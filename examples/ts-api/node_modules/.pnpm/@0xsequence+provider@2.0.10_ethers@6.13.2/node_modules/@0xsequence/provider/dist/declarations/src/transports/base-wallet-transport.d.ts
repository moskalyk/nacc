import { WalletTransport, ProviderMessage, ProviderMessageRequest, ProviderMessageResponse, ProviderRpcError, InitState, ConnectDetails, WalletSession, TransportSession } from "../types.js";
import { WalletRequestHandler } from "./wallet-request-handler.js";
import { NetworkConfig } from '@0xsequence/network';
import { commons } from '@0xsequence/core';
export declare abstract class BaseWalletTransport implements WalletTransport {
    protected walletRequestHandler: WalletRequestHandler;
    protected _sessionId: string;
    protected _registered: boolean;
    protected _init: InitState;
    protected _initNonce: string;
    protected _initCallback?: (error?: string) => void;
    protected appOrigin?: string;
    constructor(walletRequestHandler: WalletRequestHandler);
    get registered(): boolean;
    register(): void;
    unregister(): void;
    request(request: {
        method: string;
        params?: any[];
        chainId?: number;
    }): Promise<any>;
    handleMessage: (message: ProviderMessage<any>) => Promise<void>;
    sendMessageRequest: (message: ProviderMessageRequest) => Promise<ProviderMessageResponse>;
    sendMessage(message: ProviderMessage<any>): void;
    notifyOpen(openInfo: {
        chainId?: string;
        sessionId?: string;
        session?: WalletSession;
        error?: string;
    }): void;
    notifyClose(error?: ProviderRpcError): void;
    notifyConnect(connectDetails: ConnectDetails): void;
    notifyDisconnect(error?: ProviderRpcError, origin?: string): void;
    notifyAccountsChanged(accounts: string[], origin?: string): void;
    notifyChainChanged(chainIdHex: string, origin?: string): void;
    notifyNetworks(networks: NetworkConfig[]): void;
    notifyWalletContext(walletContext: commons.context.VersionedContext): void;
    protected isValidInitAck(message: ProviderMessage<any>): boolean;
    private init;
    protected open: ({ sessionId, intent, networkId }: TransportSession) => Promise<boolean>;
    private saveTransportSession;
    protected getCachedTransportSession: () => Promise<TransportSession | null>;
}
