import { commons, v1, v2 } from '@0xsequence/core';
import { ethers } from 'ethers';
export type PlainNode = {
    left: string;
    right: string;
};
export type PlainNested = {
    weight: string;
    threshold: string;
    tree: string;
};
export type PlainV2Config = {
    version: 2;
    threshold: string;
    checkpoint: string;
    tree: string;
};
export declare function isPlainNode(node: any): node is PlainNode;
export declare function isPlainNested(node: any): node is PlainNested;
export declare function isPlainV2Config(config: any): config is PlainV2Config;
export interface TrackerStore {
    loadConfig: (imageHash: string) => Promise<v1.config.WalletConfig | PlainV2Config | v2.config.WalletConfig | undefined>;
    saveConfig: (imageHash: string, config: v1.config.WalletConfig | PlainV2Config | v2.config.WalletConfig) => Promise<void>;
    loadV2Node: (nodeHash: string) => Promise<PlainNode | PlainNested | v2.config.Topology | undefined>;
    saveV2Node: (nodeHash: string, node: PlainNode | PlainNested | v2.config.Topology) => Promise<void>;
    loadCounterfactualWallet: (wallet: string) => Promise<{
        imageHash: string;
        context: commons.context.WalletContext;
    } | undefined>;
    saveCounterfactualWallet: (wallet: string, imageHash: string, context: commons.context.WalletContext) => Promise<void>;
    loadPayloadOfSubdigest: (subdigest: string) => Promise<commons.signature.SignedPayload | undefined>;
    savePayloadOfSubdigest: (subdigest: string, payload: commons.signature.SignedPayload) => Promise<void>;
    loadSubdigestsOfSigner: (signer: string) => Promise<string[]>;
    loadSignatureOfSubdigest: (signer: string, subdigest: string) => Promise<ethers.BytesLike | undefined>;
    saveSignatureOfSubdigest: (signer: string, subdigest: string, payload: ethers.BytesLike) => Promise<void>;
    loadMigrationsSubdigest: (wallet: string, fromVersion: number, toVersion: number) => Promise<{
        subdigest: string;
        toImageHash: string;
    }[]>;
    saveMigrationsSubdigest: (wallet: string, fromVersion: number, toVersion: number, subdigest: string, toImageHash: string) => Promise<void>;
}
export * from "./memoryStore.js";
export * from "./indexedDBStore.js";
